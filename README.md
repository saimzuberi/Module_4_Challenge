# Module_4_Challenge
## A Whale Off the Port(folio)
The Assignement is to demostrate the portfolio analysis technique using Pandas and identify volatility, returns, risk, and Sharpe ratios of a portfolio. 

## The following are the formalae which have been used in the Quantitative Analysis

### Libaray Used
Pandas
numpy
datetime
pathlib
seaborn
matplotlib

### List of Files Imported
algo_returns.csv
whale_returns.csv
sp_tsx_history.csv
google.csv
AAL.csv
TAC.csv
NVDA.csv
TSLA.csv

### Working Definations

#### Daily Returns
Daily return measures the return generated by on daily basis, based on its price change from the closing of a trading day to close of the next day.
Example of Code
        daily_return_tsx = sp_tsx_history.pct_change()

#### cumulative_returns
A cumulative return on an investment is the aggregate amount that the investment has gained or lost over time, independent of the amount of time involved. 
Example of Code
    cumulative_returns = (1 + combined_df).cumprod()

#### Box Plot
A Box Plot is a convenient way of graphically depicting groups of numerical data through their quartiles.
Example of Code : 
    combined_df.boxplot(figsize=(20,10))

#### Standard Deviation of portfolio
Standard deviation measures the dispersion of a dataset relative to its mean. In Finanace terms, A volatile portfolio has a high standard deviation, while the deviation of a stable blue-chip portfolio is usually rather low 
Example of Code: 
    combined_df_std = combined_df.std()

#### Annualized Standard Deviation 
The annualized standard deviation presents a measure of volatility. 
Lower the value, the lower the risk or closer to the bench mark, the lower the risk.
Example of Code: 
    annualized_std = combined_df_std * np.sqrt(252)

#### Rolling Standard Deviations
Low Standard Deviation readings typically tend to come before significant upward changes in price. Analysts generally agree that high volatility is part of major tops, while low volatility accompanies major bottoms. 
Example of Code: 
    combined_df.rolling(window=21).std().plot(figsize=(21,10))

#### Corelation Matrix
The further away the correlation coefficient is from zero, the stronger the relationship between the two variables.
Example of Code:
    price_correlation = combined_df.corr()

#### Rolling Beta 
Beta>1: If a stock/portfolio has a beta above 1, then it means that its return, on average, moves more than 1 to 1 with the return of the index
Beta<1: If a stock/portfolio has a beta below 1, then it means that its return, on average, moves less than 1 to 1 with the return of the index
Beta<0: This case is uncommon, and it means that the stock/portfolio tends to have an opposite direction to the market

Example of Code: 
    rolling_covariance = algo_1['HAROLD ALGO 1'].rolling(window=60).cov(algo_1['S&P TSX 60'])
    rolling_variance = algo_1['S&P TSX 60'].rolling(window=60).var()
    rolling_beta = rolling_covariance / rolling_variance

#### Exponentially Weighted Average
An exponential moving average (EMA) is a type of moving average (MA) that places a greater weight and significance on the most recent data points.

Example of Code: 
    exponentially_weightted_average_algo_1=algo_1['HAROLD ALGO 1'].ewm(span=21, adjust=False).mean()

#### Sharp Ratio
The Sharpe ratio compares the return of an investment with its risk. It's a mathematical expression of the insight that excess returns over a period of time may signify more volatility and risk, rather than investing skill.

A higher Sharpe ratio is better when comparing similar portfolios.

Example of Code: 
    sharpe_ratios = (combined_df.mean() * 252) / (combined_df_std * np.sqrt(252))

# Questions & Answers
## Performance Analysis
### Calculate and plot daily returns of all portfolios
Based on the Daily Returns of All portfolios a USD 10000 investment would return the following results.

SOROS FUND MANAGEMENT LLC	11206.371704
PAULSON & CO.INC.           7610.964704
TIGER GLOBAL MANAGEMENT LLC	8489.575738
BERKSHIRE HATHAWAY INC	    13543.613464
HAROLD ALGO 1	            20218.64934
HAROLD ALGO 2	            11953.265172
S&P TSX 60                  10657.665327

which means Harolds Alog 1 has out performed all funds.

### Calculate and plot cumulative returns for all portfolios. Does any portfolio outperform the S&P TSX 60?

Based on the comulative returns of all portfolios 

SOROS FUND MANAGEMENT LLC	1.1206371704
PAULSON & CO.INC.           0.7610964704
TIGER GLOBAL MANAGEMENT LLC	0.8489575738
BERKSHIRE HATHAWAY INC	    1.3543613464
HAROLD ALGO 1	            2.021864934
HAROLD ALGO 2	            1.1953265172
S&P TSX 60                  1.0657665327

## Risk Analysis

### Create a box plot for each of the returns.
Based on the Analysis against the benchmark of S&P TSX 60, TIGER GLOBAL MANAGEMENT and BERKSHIRE HATHAWAY have the most number of outliers.

### Calculate the standard deviation for each portfolio
Analysis reports that distribution of Standard deviations are
BERKSHIRE HATHAWAY INC         0.012826
TIGER GLOBAL MANAGEMENT LLC    0.010883
HAROLD ALGO 2                  0.008326
SOROS FUND MANAGEMENT LLC      0.007828
HAROLD ALGO 1                  0.007589
S&P TSX 60                     0.007034
PAULSON & CO.INC.              0.006982 

Where by BERKSHIRE HATHAWAY being the most risky and PAULSON & CO.INC being the least risky. 

### Determine which portfolios are riskier than the S&P TSX 60
BERKSHIRE HATHAWAY INC         0.012826
TIGER GLOBAL MANAGEMENT LLC    0.010883
HAROLD ALGO 2                  0.008326
SOROS FUND MANAGEMENT LLC      0.007828
HAROLD ALGO 1                  0.007589

All of the above are more risky as compared to S&P TSX 60. 

### Calculate the Annualized Standard Deviation.

The Anualized Standard Deviation is as below. 
BERKSHIRE HATHAWAY INC         0.203599
TIGER GLOBAL MANAGEMENT LLC    0.172759
HAROLD ALGO 2                  0.132177
SOROS FUND MANAGEMENT LLC      0.124259
HAROLD ALGO 1                  0.120470
S&P TSX 60                     0.111664
PAULSON & CO.INC.              0.110841

## Rolling Statistics

### Calculate and plot the rolling standard deviation for all portfolios using a 21-day window.
combined_df.rolling(window=21).std().plot(figsize=(21,10))

### Calculate and plot the correlation between each stock to determine which portfolios may mimick the S&P TSX 60.
price_correlation = combined_df.corr()

HAROLD ALGO 2               0.737370
SOROS FUND MANAGEMENT LLC   0.673930
BERKSHIRE HATHAWAY INC      0.557250

Harolds Algo 2 is most likely to mimic S&P TSX 60 while HAROLD ALGO 1 is least likely to mimic S&P TSX 60.  

### Choose one portfolio, then calculate and plot the 60-day rolling beta for it and the S&P TSX 60.
rolling_beta = rolling_covariance / rolling_variance
rolling_beta.plot(figsize=(20, 10), title='Rolling 60-Day Beta of Harolds Algo_1')


### Rolling Statistics Challenge: Exponentially Weighted Average
exponentially_weightted_average_algo_1=algo_1['HAROLD ALGO 1'].ewm(span=21, adjust=False).mean()

## Sharpe Ratios
Based on the analysis, the following are the sharp ratios. 

HAROLD ALGO 1                  1.491514
BERKSHIRE HATHAWAY INC         0.467045
HAROLD ALGO 2                  0.396817
SOROS FUND MANAGEMENT LLC      0.286709
S&P TSX 60                     0.195550
TIGER GLOBAL MANAGEMENT LLC   -0.144455
PAULSON & CO.INC.             -0.547594

Harolds Algo 1 beats S&P TSX 60 and Whale Portfolios.

# Create a Custom Portfolio
The custom portfolio includes the following shares
GOOG    20%
TSLA    20%
NVDA    20%
AAL     20%
TAC     20%

### Calculate the Annualized Standard Deviation.
PAULSON & CO.INC.              0.110841
S&P TSX 60                     0.111664
HAROLD ALGO 1                  0.120470
SOROS FUND MANAGEMENT LLC      0.124259
HAROLD ALGO 2                  0.132177
TIGER GLOBAL MANAGEMENT LLC    0.172759
BERKSHIRE HATHAWAY INC         0.203599
MY PORTFOLIO                   0.227684

Which means that my portfolio has the highest volitity 

### Calculate and plot rolling std with a 21-day window.

working_df.rolling(window=21).std().plot(figsize = (20,10))

### Calculate and plot the correlation.

My portfolio is most likely to Mimic BERKSHIRE HATHAWAY INC and HAROLD ALGO 2 while lesat likely to mimic HAROLD ALGO 1

### Calculate and plot the 60-day rolling beta for your portfolio compared to the S&P 60 TSX.
rolling_beta_myportfolio = rolling_covariance_my_port / rolling_variance_my_port

### Calculate the Sharpe ratios and generate a bar plot.

PAULSON & CO.INC.             -0.547594
TIGER GLOBAL MANAGEMENT LLC   -0.144455
S&P TSX 60                     0.195550
SOROS FUND MANAGEMENT LLC      0.286709
HAROLD ALGO 2                  0.396817
BERKSHIRE HATHAWAY INC         0.467045
MY PORTFOLIO                   0.727297
HAROLD ALGO 1                  1.491514

My portfolio performs better than S&P TSX 60 and all the Whales but its not as good as Harolds Algo 1.







